@startuml
actor User
participant TeamStatsController
participant UserController
participant TeamStatsRepository
participant Database

User -> TeamStatsController: GET /estatisticas_times (Token)
activate TeamStatsController

TeamStatsController -> UserController: validateToken(Token)
activate UserController

alt Token v치lido
    UserController --> TeamStatsController: Token v치lido
    deactivate UserController

    TeamStatsController -> TeamStatsRepository: getTeamStats()
    activate TeamStatsRepository

    TeamStatsRepository -> Database: getTeamStats()
    activate Database

    Database --> TeamStatsRepository: Lista de TeamStats
    deactivate Database

    TeamStatsRepository --> TeamStatsController: Lista de TeamStats
    deactivate TeamStatsRepository

    TeamStatsController --> User: Resposta sucesso (status, TeamStats)
    deactivate TeamStatsController
else Token inv치lido
    UserController --> TeamStatsController: Token inv치lido
    deactivate UserController

    TeamStatsController --> User: Resposta erro (401 Unauthorized)
    deactivate TeamStatsController
end
@enduml
